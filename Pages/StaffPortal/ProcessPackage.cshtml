@page
@model ProcessPackageModel
@{
    ViewData["Title"] = "Process Package";
}

<div class="col-md-9 col-lg-6 col-xl-5 mx-auto">
    <div class="text-center">
        <h3>Package</h3>
    </div>

    <form method="post">
        <!-- Resident Selection -->
        <div>
            <label asp-for="Package.ResidentID">Resident</label>
            <select asp-items="Model.ResidentDropDown" asp-for="Package.ResidentID" class="form-control">
                <option value="">-- Select Resident --</option>
            </select>
            <span asp-validation-for="Package.ResidentID" class="text-danger"></span>
        </div>

        <!-- Postal Service Agency -->
        <div>
            <label asp-for="Package.PostalServiceAgency">Postal Service Agency</label>
            <select asp-for="Package.PostalServiceAgency" class="form-control">
                <option value="DHL">DHL</option>
                <option value="FedEx">FedEx</option>
                <option value="UPS">UPS</option>
                <option value="USPS">USPS</option>
                <option value="Other">Other</option>
            </select>
            <span asp-validation-for="Package.PostalServiceAgency" class="text-danger"></span>
        </div>

        <!-- Tracking Code -->
        <div>
            <label asp-for="Package.TrackingCode">Tracking Code</label>
            <input asp-for="Package.TrackingCode" class="form-control" />
            <span asp-validation-for="Package.TrackingCode" class="text-danger"></span>
        </div>

        <!-- Submit Button -->
        <div>
            <button type="submit" class="btn btn-primary">Submit Package</button>
        </div>
    </form>

</div>

<script>
    function toggleResidentInput() {
        const isUnknownCheckbox = document.getElementById("IsResidentUnknown");
        const residentDropdown = document.getElementById("resident-select");
        const residentTextbox = document.getElementById("resident-name");

        if (isUnknownCheckbox.checked) {
            residentDropdown.style.display = "none"; // Hide dropdown
            residentTextbox.style.display = "block"; // Show textbox
        } else {
            residentDropdown.style.display = "block"; // Show dropdown
            residentTextbox.style.display = "none"; // Hide textbox
        }
    }

    // Initialize visibility based on checkbox state on page load
    document.addEventListener("DOMContentLoaded", toggleResidentInput);
</script>